master:
  push: 
    - docker: 
        image: node
      stages:
        - name: 安装依赖
          script: npm install
        - name: 执行构建
          script: npm run test
$: 
  tag_push:
    - docker: 
        image: node
      stages:
        - name: 安装依赖
          script: npm install
        - name: 执行构建
          script: npm run build
        - name: 发布 cdn-go
          type: cdn:go
          options: 
            dist: dist/
            semver: true
            latest: true
          envExport:
            cdnUrl: CDN_URL
            cdnMajorUrl: CDN_MAJOR_URL
            cdnMinorUrl: CDN_MINOR_URL
            cdnLatestUrl: CDN_LATEST_URL
        - name: show CDN_URL
          script: 
            - echo $CDN_URL
            - echo $CDN_LATEST_URL
            - echo $CDN_MAJOR_URL
            - echo $CDN_MINOR_URL        