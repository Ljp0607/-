/* empty css              */import"./index.09cbc481.js";/* empty css              */import{F as J,a as K,_ as P,b as Q}from"./bg3.0a6f60f6.js";import{_ as D,a as V,x as $,o as z,c as d,d as s,f as e,F as A,g as I,B as y,E as W,t as T,z as X,l as Y,D as F,s as Z,r as x,G as tt,H as at,O as et,C as it,e as w,w as N,p as ot,i as rt,T as g,j as dt,n as st}from"./index.ddb90805.js";/* empty css              */import{r as _}from"./request.dfb9b5fa.js";const nt=o=>_.get("app/daheDrawActivityConfig/findDrawActivityConfigByAactivityNo",o,""),ct=o=>_.get("app/daheDrawActivityConfig/drawRecordList",o,""),lt=o=>_.get("app/daheDrawActivityConfig/getUserCodeAndinvitationList",o,""),vt=o=>_.get("app/daheDrawActivityConfig/toDraw",o,""),ft=o=>_.get("app/daheDrawActivityConfig/findDrawCount",o,""),pt=(o,a)=>_.post("app/daheDrawActivityConfig/saveAddress"+o,a,"");var C={findDraw:nt,drawRecordList:ct,getUserCode:lt,toDraw:vt,findDrawCount:ft,saveAddress:pt};const ht=Y('<div class="decorate_top" data-v-fa4b5748><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div></div><div class="decorate_left" data-v-fa4b5748><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div></div><div class="decorate_right" data-v-fa4b5748><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div></div><div class="decorate_bottom" data-v-fa4b5748><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div><div class="tip" data-v-fa4b5748></div></div>',4),wt={key:0},ut=["src"],gt={class:"giftName"},mt={__name:"Sudoku",props:{start:Boolean,activity:Array,result:Number,clickLottery:Function,changeIsTurnOver:Function,changeShow:Function},setup(o){const a=o,t=V({item:[{state:0,color:1},{state:0,color:0},{state:0,color:1},{state:0,color:0},{state:0,color:0},{state:0,color:0},{state:0,color:1},{state:0,color:0},{state:0,color:1}]});function m(l){let c=[120,80,60,60,50,100,200,200,250],n=c.length,p=0;c.forEach((h,v)=>{setTimeout(()=>{b(h,v+1,n,l)},p),p+=h*8})}function b(l,c,n,p){let h=[0,1,2,5,8,7,6,3];c==n&&h.splice(p);for(let v in h)setTimeout(()=>{t.item.forEach(L=>{L.state=!1}),t.item[h[v]].state=!0,c==n&&v==h.length-1&&(F.alert({message:a.activity[h[v]].awardName}).then(()=>{a.changeShow()}),a.changeIsTurnOver())},l*v)}function f(){a.clickLottery()}return $(()=>a.start,(l,c)=>{m(a.result)}),z(()=>{}),(l,c)=>(d(),s("div",null,[e("main",null,[ht,(d(!0),s(A,null,I(t.item,(n,p)=>(d(),s("div",{style:y({background:n.state?"#FFFFE0":""}),key:p,class:W([n.color?"btn":"","item"])},[a.activity?(d(),s("div",wt,[e("img",{src:a.activity[p].awardImage},null,8,ut),e("div",gt,T(a.activity[p].awardName),1)])):X("",!0)],6))),128)),e("div",{class:"clickLott",onClick:f},"\u7ACB\u5373\u62BD\u5956")])]))}};var bt=D(mt,[["__scopeId","data-v-fa4b5748"]]);const yt={class:"wrapper"},_t={class:"sector-inner"},kt=["src"],xt={__name:"Corona",props:{activity:Array,clickLottery:Function,result:Number,changeIsTurnOver:Function,changeShow:Function,start:Boolean},setup(o){const a=o,t=V({rotateAngle:0,time:0,rotate_angle:"",item:24,activity:{poolList:[{name:"iphone"},{name:"ipad"},{name:"switch"},{name:"\u73A9\u5177"},{name:"\u597D\u73A9\u7684"},{name:"\u597D\u5403\u7684"}]}});function m(){a.clickLottery()}function b(f){switch(t.rotateAngle=t.rotateAngle-t.time,f){case 1:t.time=Math.random()*(30-0)+0;break;case 6:t.time=Math.random()*(85-35)+35;break;case 5:t.time=Math.random()*(145-95)+95;break;case 4:t.time=Math.random()*(205-155)+155;break;case 3:t.time=Math.random()*(265-215)+215;break;case 2:t.time=Math.random()*(325-275)+275;break}t.rotateAngle=t.rotateAngle+3600+t.time,t.rotate_angle=`rotate(${t.rotateAngle}deg)`,setTimeout(function(){F.alert({message:a.activity[f-1].awardName}).then(()=>{a.changeShow()}),a.changeIsTurnOver()},5200)}return $(()=>a.start,(f,l)=>{b(a.result)}),(f,l)=>(d(),s("main",null,[e("div",yt,[(d(!0),s(A,null,I(t.item,(c,n)=>(d(),s("div",{class:"light",key:n}))),128)),e("div",{class:"panel",style:y({transform:t.rotate_angle,transition:"5s"})},[(d(!0),s(A,null,I(t.activity.poolList,(c,n)=>(d(),s("div",{class:"sector",key:n},[e("div",_t,[e("span",null,T(a.activity[n].awardName),1),e("img",{src:a.activity[n].awardImage},null,8,kt)])]))),128))],4),e("div",{class:"pointer",onClick:m},"\u5F00\u59CB\u62BD\u5956")])]))}};var Nt=D(xt,[["__scopeId","data-v-5fd55c53"]]);const S=o=>(ot("data-v-f8d5791c"),o=o(),rt(),o),Ct=["src"],Lt={key:0,class:"title"},At={key:1,class:"title"},It=S(()=>e("div",{class:"text"},"\u6682\u65E0\u62BD\u5956",-1)),Tt=[It],St={key:2},Dt={key:3},Vt={key:4,class:"empty_img"},Ft=S(()=>e("img",{src:P,alt:""},null,-1)),Ot=[Ft],Rt={class:"wrapper"},$t={class:"block"},zt=S(()=>e("div",null,"\u8BF7\u586B\u5199\u9886\u5956\u4FE1\u606F",-1)),Bt={style:{margin:"16px"}},jt=st(" \u63D0\u4EA4 "),Mt=S(()=>e("div",null,[e("img",{class:"tip",src:Q})],-1)),Et={class:"groud"},Ut={__name:"index",setup(o){const a=Z(),t=V({sum:"",start:!0,result:0,activity:{drawType:0,poolList:[]},time:0,activityNo:"",isTurnOver:!0,recordList:[]}),m=x(!1),b=x(""),f=x(""),l=x(""),c=x(""),n=/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[189]))\d{8}$/;function p(){h()}function h(){C.saveAddress(`?userId=${a.userId}&activityNo=${t.activityNo}`,JSON.stringify({realName:f.value,recordNo:c.value,phone:l.value,activityNo:t.activityNo,address:b.value})).then(i=>{g("\u4FDD\u5B58\u6210\u529F"),v()}).catch(i=>{g(i),v()})}function v(){t.activity.poolList[t.sum].awardFlag&&(m.value=!m.value)}function L(){t.time>0?t.isTurnOver?(t.isTurnOver=!1,t.time--,C.toDraw({userId:a.userId,activityNo:t.activityNo}).then(i=>{if(c.value=i.recordNo,t.activity.drawType==2){for(let r in t.activity.poolList)if(i.awardNo&&t.activity.poolList[r].awardNo==i.awardNo){t.sum=r;let k=[1,2,3,8,5,4,7,6,5];t.result=k[r],t.start=!t.start;return}}else if(t.activity.drawType==1){for(let r in t.activity.poolList)if(t.activity.poolList[r].awardNo==i.awardNo){t.sum=r,t.result=r*1+1,t.start=!t.start;return}}else g("\u51FA\u9519\u4E86");console.log(t.sum)}).catch(()=>{t.activity.drawType==2?(t.start=!t.start,t.result=5):(t.start=!t.start,t.result=6)})):F.alert({message:"\u8BF7\u52FF\u91CD\u590D\u62BD\u5956"}).then(()=>{}):g("\u62BD\u5956\u6B21\u6570\u4E0D\u8DB3")}function B(){C.findDrawCount({userId:a.userId,activityNo:t.activityNo}).then(i=>{t.time=i.drawCount}).catch(i=>{})}function j(){window.location.href.indexOf("activityNo")==-1?g("\u8BF7\u6DFB\u52A0\u6D3B\u52A8\u7F16\u7801"):t.activityNo=window.location.href.match(/activityNo=(\S*)&/)[1]}function M(){C.findDraw({userId:a.userId,activityNo:t.activityNo}).then(i=>{if(a.userId!="empty")if(i.drawActivityConfig.drawType==2&&i.drawActivityConfig.poolList.length==8){const r=i.drawActivityConfig;r.poolList.splice(4,0,{awardImage:null,awardName:null}),t.activity=r}else i.drawActivityConfig.drawType==1&&i.drawActivityConfig.poolList.length==6?t.activity=i.drawActivityConfig:g("\u62BD\u5956\u914D\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u914D\u7F6E");else g("\u672A\u767B\u5F55\uFF0C\u65E0\u6CD5\u62BD\u5956")}).then(()=>{t.activity.activityRule.indexOf("#")!=-1&&(t.titleColor="#"+t.activity.activityRule.split("#")[1],t.timeColor="#"+t.activity.activityRule.split("#")[2],t.numberColor="#"+t.activity.activityRule.split("#")[3],t.activity.activityRule=t.activity.activityRule.split("#")[0]),t.activity.activityRule=t.activity.activityRule.replace(/â†µ/g,"/n")}).catch(i=>{g("\u83B7\u53D6\u62BD\u5956\u914D\u7F6E\u5931\u8D25\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5")})}function E(){C.drawRecordList({userId:a.userId,activityNo:t.activityNo,page_index:0,page_count:50}).then(i=>{t.recordList=i.recordList}).catch(i=>{})}function O(){t.isTurnOver=!0}return z(()=>{j(),B(),M(),E()}),(i,r)=>{const k=J,R=tt,U=at,q=K,G=et,H=it;return d(),s("div",{class:"content",style:y([{background:`url(${t.activity.background})`},{"background-size":"100% 100%","background-repeat":"no-repeat"}])},[e("header",null,[e("img",{class:"tip",src:t.activity.activityName,alt:""},null,8,Ct),e("div",{class:"activityRule",style:y({color:t.titleColor?t.titleColor:""})},T(t.activity.activityRule),5)]),t.activity.drawType==1||t.activity.drawType==2?(d(),s("div",Lt,[e("div",{class:"text",style:y({color:t.timeColor?t.timeColor:""})}," \u62BD\u5956\u6B21\u6570 ",4),e("div",{class:"time",style:y({color:t.numberColor?t.numberColor:""})},T(t.time)+"\u6B21 ",5)])):(d(),s("div",At,Tt)),t.activity.drawType==2?(d(),s("div",St,[w(bt,{activity:t.activity.poolList,result:t.result,clickLottery:L,changeIsTurnOver:O,start:t.start,changeShow:v},null,8,["activity","result","start"])])):t.activity.drawType==1?(d(),s("div",Dt,[w(Nt,{activity:t.activity.poolList,result:t.result,clickLottery:L,changeIsTurnOver:O,start:t.start,changeShow:v},null,8,["activity","result","start"])])):(d(),s("div",Vt,Ot)),w(G,{show:m.value},{default:N(()=>[e("div",Rt,[e("div",$t,[zt,w(q,{onSubmit:p},{default:N(()=>[w(R,{inset:""},{default:N(()=>[w(k,{modelValue:f.value,"onUpdate:modelValue":r[0]||(r[0]=u=>f.value=u),placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u7528\u6237\u540D"}]},null,8,["modelValue"]),w(k,{modelValue:l.value,"onUpdate:modelValue":r[1]||(r[1]=u=>l.value=u),placeholder:"\u8BF7\u8F93\u5165\u7535\u8BDD\u53F7\u7801",name:"pattern",rules:[{pattern:n,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7"}]},null,8,["modelValue","rules"]),w(k,{modelValue:b.value,"onUpdate:modelValue":r[2]||(r[2]=u=>b.value=u),placeholder:"\u8BF7\u8F93\u5165\u5730\u5740",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5730\u5740"}]},null,8,["modelValue"])]),_:1}),e("div",Bt,[w(U,{round:"",block:"",type:"primary","native-type":"submit"},{default:N(()=>[jt]),_:1})])]),_:1})])])]),_:1},8,["show"]),e("footer",null,[Mt,e("div",Et,[w(R,null,{default:N(()=>[(d(!0),s(A,null,I(t.recordList,u=>(d(),dt(H,{key:u,title:u.realName,value:u.phone},null,8,["title","value"]))),128))]),_:1})])])],4)}}};var Wt=D(Ut,[["__scopeId","data-v-f8d5791c"]]);export{Wt as default};
