import{a as J,T as N}from"./index.b61db740.js";import{c as O,aK as U,t as f,X as V,n as D,d as K,E as C,e as M,V as E,a as l,I as B,aM as F,a5 as x,w as P}from"./index.1cb909ac.js";const[j,r,G]=O("cascader"),H={title:String,options:U(),closeable:f,swipeable:f,closeIcon:V("cross"),showHeader:f,modelValue:D,fieldNames:Object,placeholder:String,activeColor:String};var L=K({name:j,props:H,emits:["close","change","finish","clickTab","update:modelValue"],setup(o,{slots:i,emit:A}){const s=C([]),h=C(0),{text:m,value:d,children:u}=M({text:"text",value:"value",children:"children"},o.fieldNames),_=(e,c)=>{for(const n of e){if(n[d]===c)return[n];if(n[u]){const a=_(n[u],c);if(a)return[n,...a]}}},b=()=>{const{options:e,modelValue:c}=o;if(c!==void 0){const n=_(e,c);if(n){let a=e;s.value=n.map(t=>{const g={options:a,selected:t},v=a.find(p=>p[d]===t[d]);return v&&(a=v[u]),g}),a&&s.value.push({options:a,selected:null}),x(()=>{h.value=s.value.length-1});return}}s.value=[{options:e,selected:null}]},w=(e,c)=>{if(e.disabled)return;if(s.value[c].selected=e,s.value.length>c+1&&(s.value=s.value.slice(0,c+1)),e[u]){const t={options:e[u],selected:null};s.value[c+1]?s.value[c+1]=t:s.value.push(t),x(()=>{h.value++})}const n=s.value.map(t=>t.selected).filter(Boolean);A("update:modelValue",e[d]);const a={value:e[d],tabIndex:c,selectedOptions:n};A("change",a),e[u]||A("finish",a)},Q=()=>A("close"),k=({name:e,title:c})=>A("clickTab",e,c),z=()=>o.showHeader?l("div",{class:r("header")},[l("h2",{class:r("title")},[i.title?i.title():o.title]),o.closeable?l(B,{name:o.closeIcon,class:[r("close-icon"),F],onClick:Q},null):null]):null,y=(e,c,n)=>{const{disabled:a}=e,t=!!(c&&e[d]===c[d]),g=e.color||(t?o.activeColor:void 0),v=i.option?i.option({option:e,selected:t}):l("span",null,[e[m]]);return l("li",{role:"menuitemradio",class:[r("option",{selected:t,disabled:a}),e.className],style:{color:g},tabindex:a?void 0:t?0:-1,"aria-checked":t,"aria-disabled":a||void 0,onClick:()=>w(e,n)},[v,t?l(B,{name:"success",class:r("selected-icon")},null):null])},T=(e,c,n)=>l("ul",{role:"menu",class:r("options")},[e.map(a=>y(a,c,n))]),S=(e,c)=>{const{options:n,selected:a}=e,t=o.placeholder||G("select"),g=a?a[m]:t;return l(N,{title:g,titleClass:r("tab",{unselected:!a})},{default:()=>{var v,p;return[(v=i["options-top"])==null?void 0:v.call(i,{tabIndex:c}),T(n,a,c),(p=i["options-bottom"])==null?void 0:p.call(i,{tabIndex:c})]}})},I=()=>l(J,{active:h.value,"onUpdate:active":e=>h.value=e,shrink:!0,animated:!0,class:r("tabs"),color:o.activeColor,swipeable:o.swipeable,onClickTab:k},{default:()=>[s.value.map(S)]});return b(),E(()=>o.options,b,{deep:!0}),E(()=>o.modelValue,e=>{e!==void 0&&s.value.map(n=>{var a;return(a=n.selected)==null?void 0:a[d]}).includes(e)||b()}),()=>l("div",{class:r()},[z(),I()])}});const Z=P(L);var W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABEAAAAAGCAYAAADDsestAAAAAXNSR0IArs4c6QAAAM9JREFUeF7t27ENgDAMBECyFy0LsQELMBUbMQAU9FSWYlvHAOFzT/USY1nPZ/EQIECAAAECuQSufeQKJA0BAgQIECBAoLbAMIDULlB6AgQIEGgqYABpWqxrESBAgAABArMEDCCz5L2XAAECBAj8CBzbzYcAAQIECBAgQCBQwAASiOkoAgQIECAQJWAAiZJ0DgECBAgQIEDgEzCA+BIIECBAgEBGAb/AZGxFJgIECBAgQKCwgAGkcHmiEyBAgEBjAQNI43JdjQABAgQIEJgh8AIvlxMLZsrk2QAAAABJRU5ErkJggg==";export{Z as C,W as _};
