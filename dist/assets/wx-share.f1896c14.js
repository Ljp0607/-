import{H as z}from"./index.178e022e.js";var j={exports:{}};(function(r,T){j.exports=T(r)})(window,function(r,T){if(!r.jWeixin){var h,a={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},v=function(){var e={};for(var i in a)e[a[i]]=i;return e}(),P=r.document,w=P.title,k=navigator.userAgent.toLowerCase(),R=navigator.platform.toLowerCase(),q=!(!R.match("mac")&&!R.match("win")),Z=k.indexOf("wxdebugger")!=-1,W=k.indexOf("micromessenger")!=-1,M=k.indexOf("android")!=-1,J=k.indexOf("iphone")!=-1||k.indexOf("ipad")!=-1,C=(h=k.match(/micromessenger\/(\d+\.\d+\.\d+)/)||k.match(/micromessenger\/(\d+\.\d+)/))?h[1]:"",_={initStartTime:V(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},u={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:J?1:M?2:-1,clientVersion:C,url:encodeURIComponent(location.href)},p={},g={_completes:[]},x={state:0,data:{}};S(function(){_.initEndTime=V()});var L=!1,b=[],A={config:function(e){N("config",p=e);var i=p.check!==!1;S(function(){if(i)t(a.config,{verifyJsApiList:O(p.jsApiList),verifyOpenTagList:O(p.openTagList)},function(){g._complete=function(d){_.preVerifyEndTime=V(),x.state=1,x.data=d},g.success=function(d){u.isPreVerifyOk=0},g.fail=function(d){g._fail?g._fail(d):x.state=-1};var l=g._completes;return l.push(function(){(function(){if(!(q||Z||p.debug||C<"6.0.2"||u.systemType<0)){var d=new Image;u.appId=p.appId,u.initTime=_.initEndTime-_.initStartTime,u.preVerifyTime=_.preVerifyEndTime-_.preVerifyStartTime,A.getNetworkType({isInnerInvoke:!0,success:function(f){u.networkType=f.networkType;var m="https://open.weixin.qq.com/sdk/report?v="+u.version+"&o="+u.isPreVerifyOk+"&s="+u.systemType+"&c="+u.clientVersion+"&a="+u.appId+"&n="+u.networkType+"&i="+u.initTime+"&p="+u.preVerifyTime+"&u="+u.url;d.src=m}})}})()}),g.complete=function(d){for(var f=0,m=l.length;f<m;++f)l[f]();g._completes=[]},g}()),_.preVerifyStartTime=V();else{x.state=1;for(var n=g._completes,o=0,c=n.length;o<c;++o)n[o]();g._completes=[]}}),A.invoke||(A.invoke=function(n,o,c){r.WeixinJSBridge&&WeixinJSBridge.invoke(n,U(o),c)},A.on=function(n,o){r.WeixinJSBridge&&WeixinJSBridge.on(n,o)})},ready:function(e){x.state!=0?e():(g._completes.push(e),!W&&p.debug&&e())},error:function(e){C<"6.0.2"||(x.state==-1?e(x.data):g._fail=e)},checkJsApi:function(e){t("checkJsApi",{jsApiList:O(e.jsApiList)},(e._complete=function(i){if(M){var n=i.checkResult;n&&(i.checkResult=JSON.parse(n))}i=function(o){var c=o.checkResult;for(var l in c){var d=v[l];d&&(c[d]=c[l],delete c[l])}return o}(i)},e))},onMenuShareTimeline:function(e){y(a.onMenuShareTimeline,{complete:function(){t("shareTimeline",{title:e.title||w,desc:e.title||w,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){y(a.onMenuShareAppMessage,{complete:function(i){i.scene==="favorite"?t("sendAppMessage",{title:e.title||w,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):t("sendAppMessage",{title:e.title||w,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){y(a.onMenuShareQQ,{complete:function(){t("shareQQ",{title:e.title||w,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){y(a.onMenuShareWeibo,{complete:function(){t("shareWeiboApp",{title:e.title||w,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){y(a.onMenuShareQZone,{complete:function(){t("shareQZone",{title:e.title||w,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){t("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){t("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){t("startRecord",{},e)},stopRecord:function(e){t("stopRecord",{},e)},onVoiceRecordEnd:function(e){y("onVoiceRecordEnd",e)},playVoice:function(e){t("playVoice",{localId:e.localId},e)},pauseVoice:function(e){t("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){t("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){y("onVoicePlayEnd",e)},uploadVoice:function(e){t("uploadVoice",{localId:e.localId,isShowProgressTips:e.isShowProgressTips==0?0:1},e)},downloadVoice:function(e){t("downloadVoice",{serverId:e.serverId,isShowProgressTips:e.isShowProgressTips==0?0:1},e)},translateVoice:function(e){t("translateVoice",{localId:e.localId,isShowProgressTips:e.isShowProgressTips==0?0:1},e)},chooseImage:function(e){t("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(i){if(M){var n=i.localIds;try{n&&(i.localIds=JSON.parse(n))}catch{}}},e))},getLocation:function(e){},previewImage:function(e){t(a.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){t("uploadImage",{localId:e.localId,isShowProgressTips:e.isShowProgressTips==0?0:1},e)},downloadImage:function(e){t("downloadImage",{serverId:e.serverId,isShowProgressTips:e.isShowProgressTips==0?0:1},e)},getLocalImgData:function(e){L===!1?(L=!0,t("getLocalImgData",{localId:e.localId},(e._complete=function(i){if(L=!1,0<b.length){var n=b.shift();wx.getLocalImgData(n)}},e))):b.push(e)},getNetworkType:function(e){t("getNetworkType",{},(e._complete=function(i){i=function(n){var o=n.errMsg;n.errMsg="getNetworkType:ok";var c=n.subtype;if(delete n.subtype,c)n.networkType=c;else{var l=o.indexOf(":"),d=o.substring(l+1);switch(d){case"wifi":case"edge":case"wwan":n.networkType=d;break;default:n.errMsg="getNetworkType:fail"}}return n}(i)},e))},openLocation:function(e){t("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){t(a.getLocation,{type:(e=e||{}).type||"wgs84"},(e._complete=function(i){delete i.type},e))},hideOptionMenu:function(e){t("hideOptionMenu",{},e)},showOptionMenu:function(e){t("showOptionMenu",{},e)},closeWindow:function(e){t("closeWindow",{},e=e||{})},hideMenuItems:function(e){t("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){t("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){t("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){t("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){t("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(i){if(J){var n=i.resultStr;if(n){var o=JSON.parse(n);i.resultStr=o&&o.scan_code&&o.scan_code.scan_result}}},e))},openAddress:function(e){t(a.openAddress,{},(e._complete=function(i){i=function(n){return n.postalCode=n.addressPostalCode,delete n.addressPostalCode,n.provinceName=n.proviceFirstStageName,delete n.proviceFirstStageName,n.cityName=n.addressCitySecondStageName,delete n.addressCitySecondStageName,n.countryName=n.addressCountiesThirdStageName,delete n.addressCountiesThirdStageName,n.detailInfo=n.addressDetailInfo,delete n.addressDetailInfo,n}(i)},e))},openProductSpecificView:function(e){t(a.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){for(var i=e.cardList,n=[],o=0,c=i.length;o<c;++o){var l=i[o],d={card_id:l.cardId,card_ext:l.cardExt};n.push(d)}t(a.addCard,{card_list:n},(e._complete=function(f){var m=f.card_list;if(m){for(var s=0,E=(m=JSON.parse(m)).length;s<E;++s){var I=m[s];I.cardId=I.card_id,I.cardExt=I.card_ext,I.isSuccess=!!I.is_succ,delete I.card_id,delete I.card_ext,delete I.is_succ}f.cardList=m,delete f.card_list}},e))},chooseCard:function(e){t("chooseCard",{app_id:p.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(i){i.cardList=i.choose_card_info,delete i.choose_card_info},e))},openCard:function(e){for(var i=e.cardList,n=[],o=0,c=i.length;o<c;++o){var l=i[o],d={card_id:l.cardId,code:l.code};n.push(d)}t(a.openCard,{card_list:n},e)},consumeAndShareCard:function(e){t(a.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)},chooseWXPay:function(e){t(a.chooseWXPay,D(e),e)},openEnterpriseRedPacket:function(e){t(a.openEnterpriseRedPacket,D(e),e)},startSearchBeacons:function(e){t(a.startSearchBeacons,{ticket:e.ticket},e)},stopSearchBeacons:function(e){t(a.stopSearchBeacons,{},e)},onSearchBeacons:function(e){y(a.onSearchBeacons,e)},openEnterpriseChat:function(e){t("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)},launchMiniProgram:function(e){t("launchMiniProgram",{targetAppId:e.targetAppId,path:function(i){if(typeof i=="string"&&0<i.length){var n=i.split("?")[0],o=i.split("?")[1];return n+=".html",o!==void 0?n+"?"+o:n}}(e.path),envVersion:e.envVersion},e)},openBusinessView:function(e){t("openBusinessView",{businessType:e.businessType,queryString:e.queryString||"",envVersion:e.envVersion},(e._complete=function(i){if(M){var n=i.extraData;if(n)try{i.extraData=JSON.parse(n)}catch{i.extraData={}}}},e))},miniProgram:{navigateBack:function(e){e=e||{},S(function(){t("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)})},navigateTo:function(e){S(function(){t("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)})},redirectTo:function(e){S(function(){t("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)})},switchTab:function(e){S(function(){t("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)})},reLaunch:function(e){S(function(){t("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)})},postMessage:function(e){S(function(){t("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)})},getEnv:function(e){S(function(){e({miniprogram:r.__wxjs_environment==="miniprogram"})})}}},H=1,B={};return P.addEventListener("error",function(e){if(!M){var i=e.target,n=i.tagName,o=i.src;if((n=="IMG"||n=="VIDEO"||n=="AUDIO"||n=="SOURCE")&&o.indexOf("wxlocalresource://")!=-1){e.preventDefault(),e.stopPropagation();var c=i["wx-id"];if(c||(c=H++,i["wx-id"]=c),B[c])return;B[c]=!0,wx.ready(function(){wx.getLocalImgData({localId:o,success:function(l){i.src=l.localData}})})}}},!0),P.addEventListener("load",function(e){if(!M){var i=e.target,n=i.tagName;if(i.src,n=="IMG"||n=="VIDEO"||n=="AUDIO"||n=="SOURCE"){var o=i["wx-id"];o&&(B[o]=!1)}}},!0),T&&(r.wx=r.jWeixin=A),A}function t(e,i,n){r.WeixinJSBridge?WeixinJSBridge.invoke(e,U(i),function(o){Q(e,o,n)}):N(e,n)}function y(e,i,n){r.WeixinJSBridge?WeixinJSBridge.on(e,function(o){n&&n.trigger&&n.trigger(o),Q(e,o,i)}):N(e,n||i)}function U(e){return(e=e||{}).appId=p.appId,e.verifyAppId=p.appId,e.verifySignType="sha1",e.verifyTimestamp=p.timestamp+"",e.verifyNonceStr=p.nonceStr,e.verifySignature=p.signature,e}function D(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function Q(e,i,n){e!="openEnterpriseChat"&&e!=="openBusinessView"||(i.errCode=i.err_code),delete i.err_code,delete i.err_desc,delete i.err_detail;var o=i.errMsg;o||(o=i.err_msg,delete i.err_msg,o=function(l,d){var f=l,m=v[f];m&&(f=m);var s="ok";if(d){var E=d.indexOf(":");(s=d.substring(E+1))=="confirm"&&(s="ok"),s=="failed"&&(s="fail"),s.indexOf("failed_")!=-1&&(s=s.substring(7)),s.indexOf("fail_")!=-1&&(s=s.substring(5)),(s=(s=s.replace(/_/g," ")).toLowerCase())!="access denied"&&s!="no permission to execute"||(s="permission denied"),f=="config"&&s=="function not exist"&&(s="ok"),s==""&&(s="fail")}return d=f+":"+s}(e,o),i.errMsg=o),(n=n||{})._complete&&(n._complete(i),delete n._complete),o=i.errMsg||"",p.debug&&!n.isInnerInvoke&&alert(JSON.stringify(i));var c=o.indexOf(":");switch(o.substring(c+1)){case"ok":n.success&&n.success(i);break;case"cancel":n.cancel&&n.cancel(i);break;default:n.fail&&n.fail(i)}n.complete&&n.complete(i)}function O(e){if(e){for(var i=0,n=e.length;i<n;++i){var o=e[i],c=a[o];c&&(e[i]=c)}return e}}function N(e,i){if(!(!p.debug||i&&i.isInnerInvoke)){var n=v[e];n&&(e=n),i&&i._complete&&delete i._complete,console.log('"'+e+'",',i||"")}}function V(){return new Date().getTime()}function S(e){W&&(r.WeixinJSBridge?e():P.addEventListener&&P.addEventListener("WeixinJSBridgeReady",e,!1))}});var F=j.exports;function X(r){if(!r)return;let T=!1,h=F;h.config({debug:T,appId:r.appid,timestamp:r.timestamp,nonceStr:r.nonceStr,signature:r.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),h.ready(function(){console.log("ready"),console.log("wx ready ok"),h.checkJsApi({jsApiList:["updateAppMessageShareData","updateTimelineShareData"],success:function(a){console.log("checkJsApi success : "+a)}}),h.updateAppMessageShareData({title:r.title,desc:r.description,link:r.url,imgUrl:r.img,success:function(){console.log("----- \u5206\u4EAB\u7ED9\u670B\u53CB\u6210\u529F-----------")},cancel:function(){console.log("----- \u5206\u4EAB\u7ED9\u670B\u53CB\u53D6\u6D88 \uFF1A ")}}),h.updateTimelineShareData({title:r.title,link:r.url,imgUrl:r.img,success:function(){console.log("\u5206\u4EAB\u5230\u670B\u53CB\u5708\u6210\u529F")},cancel:function(){}})}),h.error(function(a){console.error("wx error:",a)})}function K(r,T,h){z({method:"post",url:"https://news.dahebao.cn/dahe/appshare/getshareinfo",headers:{"Content-Type":"application/json;charset=UTF-8"},params:{sign:"637586292ebf2c5fabab863734fc6a12",data:r}}).then(a=>{let v=a.data;v.img="https://imgcdn.dahebao.cn/20221222/20221222155940316831.jpeg",v.title=T,v.description=h,X(v)})}export{K as g};
