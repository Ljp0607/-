/* empty css              *//* empty css              *//* empty css              */import{B as K}from"./index.c3ce04af.js";import{F as P,C as Q,a as W}from"./index.143f1166.js";import"./index.1887c1b8.js";import{_ as L,r as T,V as O,o as d,l as r,p as e,F as C,s as z,ap as h,aZ as X,ad as D,ae as $,A as m,au as Y,aU as tt,C as R,D as j,z as et,E as x,G as at,ar as it,a as g,q as S,T as y,aq as ot}from"./index.178e022e.js";import{_ as dt}from"./bg1.cc36fa27.js";import{D as A}from"./index.0d2c4841.js";/* empty css              *//* empty css              */import{r as N}from"./index.a08350b5.js";import"./use-route.8609b055.js";import"./use-id.f85502fd.js";import"./request.e90f9786.js";const rt=tt('<div class="decorate_top" data-v-7fe049ee><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div></div><div class="decorate_left" data-v-7fe049ee><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div></div><div class="decorate_right" data-v-7fe049ee><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div></div><div class="decorate_bottom" data-v-7fe049ee><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div></div>',4),st={key:0},nt=["src"],vt={class:"giftName"},ct={__name:"Sudoku",props:{start:Boolean,activity:Array,result:Number,clickLottery:Function,changeIsTurnOver:Function,changeShow:Function},setup(n){const i=n,t=T({item:[{state:0,color:1},{state:0,color:0},{state:0,color:1},{state:0,color:0},{state:0,color:0},{state:0,color:0},{state:0,color:1},{state:0,color:0},{state:0,color:1}]});function _(c){let l=[120,80,60,60,50,100,200,200,250],s=l.length,u=0;l.forEach((p,f)=>{setTimeout(()=>{b(p,f+1,s,c)},u),u+=p*8})}function b(c,l,s,u){let p=[0,1,2,5,8,7,6,3];l==s&&p.splice(u);for(let f in p)setTimeout(()=>{t.item.forEach(I=>{I.state=!1}),t.item[p[f]].state=!0,l==s&&f==p.length-1&&(A.alert({message:i.activity[p[f]].awardName}).then(()=>{i.changeShow()}),i.changeIsTurnOver())},c*f)}function w(){i.clickLottery()}return O(()=>i.start,(c,l)=>{_(i.result)}),(c,l)=>(d(),r("div",null,[e("main",null,[rt,(d(!0),r(C,null,z(t.item,(s,u)=>(d(),r("div",{style:h({background:s.state?"#FFFFE0":""}),key:u,class:X([s.color?"btn":"","item"])},[i.activity?(d(),r("div",st,[D(e("img",{src:i.activity[u].awardImage},null,8,nt),[[$,i.activity[u].awardImage]]),e("div",vt,m(i.activity[u].awardName),1)])):Y("",!0)],6))),128)),e("div",{class:"clickLott",onClick:w},"\u7ACB\u5373\u62BD\u5956")])]))}};var lt=L(ct,[["__scopeId","data-v-7fe049ee"]]);const ut=n=>(R("data-v-03da75f3"),n=n(),j(),n),ft={class:"wrapper"},wt={class:"sector-inner"},pt=["src"],ht=ut(()=>e("div",{class:"start"},"\u7ACB\u5373\u62BD\u5956",-1)),gt=[ht],mt={__name:"Corona",props:{activity:Array,clickLottery:Function,result:Number,changeIsTurnOver:Function,changeShow:Function,start:Boolean},setup(n){const i=n,t=T({rotateAngle:0,time:0,rotate_angle:"",item:24,activity:{poolList:[{name:"iphone"},{name:"ipad"},{name:"switch"},{name:"\u73A9\u5177"},{name:"\u597D\u73A9\u7684"},{name:"\u597D\u5403\u7684"}]}});function _(){i.clickLottery()}function b(w){switch(t.rotateAngle=t.rotateAngle-t.time,w){case 1:t.time=Math.random()*(30-0)+0;break;case 6:t.time=Math.random()*(85-35)+35;break;case 5:t.time=Math.random()*(145-95)+95;break;case 4:t.time=Math.random()*(205-155)+155;break;case 3:t.time=Math.random()*(265-215)+215;break;case 2:t.time=Math.random()*(325-275)+275;break}t.rotateAngle=t.rotateAngle+3600+t.time,t.rotate_angle=`rotate(${t.rotateAngle}deg)`,setTimeout(function(){A.alert({message:i.activity[w-1].awardName}).then(()=>{i.changeShow()}),i.changeIsTurnOver()},5200)}return O(()=>i.start,(w,c)=>{b(i.result)}),(w,c)=>(d(),r("main",null,[e("div",ft,[e("div",{class:"panel",style:h({transform:t.rotate_angle,transition:"5s"})},[(d(!0),r(C,null,z(t.activity.poolList,(l,s)=>(d(),r("div",{class:"sector",key:s},[e("div",wt,[e("span",null,m(i.activity[s].awardName),1),D(e("img",{src:i.activity[s].awardImage},null,8,pt),[[$,i.activity[s].awardImage]])])]))),128))],4),e("div",{class:"pointer",onClick:_},gt)])]))}};var yt=L(mt,[["__scopeId","data-v-03da75f3"]]);const F=n=>(R("data-v-7785f155"),n=n(),j(),n),_t={class:"content"},bt={key:0,class:"title"},kt={key:1,class:"title"},xt=F(()=>e("div",{class:"text"},"\u6682\u65E0\u62BD\u5956",-1)),Nt=[xt],It={key:2},St={key:3},Lt={key:4,class:"empty_img"},Tt=F(()=>e("img",{src:dt,alt:""},null,-1)),Ct=[Tt],zt={class:"wrapper"},Dt={class:"block"},$t=F(()=>e("div",null,"\u8BF7\u586B\u5199\u9886\u5956\u4FE1\u606F",-1)),At={style:{margin:"16px"}},Ft=ot(" \u63D0\u4EA4 "),Vt={class:"groud"},Ot={__name:"index",setup(n){const i=et(),t=T({startDate:"",endDate:"",sum:"",start:!0,result:0,activity:{drawType:0,poolList:[]},time:0,activityNo:"",isTurnOver:!0,recordList:[]}),_=x(!1),b=x(""),w=x(""),c=x(""),l=x(""),s=/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[189]))\d{8}$/;function u(){p()}function p(){N.saveAddress(`?userId=${i.userId}&activityNo=${t.activityNo}`,JSON.stringify({realName:w.value,recordNo:l.value,phone:c.value,activityNo:t.activityNo,address:b.value})).then(a=>{y("\u4FDD\u5B58\u6210\u529F"),f()}).catch(a=>{y(a),f()})}function f(){t.activity.poolList[t.sum].awardFlag&&(_.value=!_.value)}function I(){t.time>0?t.isTurnOver?(t.isTurnOver=!1,t.time--,N.toDraw({userId:i.userId,activityNo:t.activityNo}).then(a=>{if(l.value=a.recordNo,t.activity.drawType==2){for(let o in t.activity.poolList)if(a.awardNo&&t.activity.poolList[o].awardNo==a.awardNo){t.sum=o;let k=[1,2,3,8,5,4,7,6,5];t.result=k[o],t.start=!t.start;return}}else if(t.activity.drawType==1){for(let o in t.activity.poolList)if(t.activity.poolList[o].awardNo==a.awardNo){t.sum=o,t.result=o*1+1,t.start=!t.start;return}}else y("\u51FA\u9519\u4E86")}).catch(()=>{t.activity.drawType==2?(t.start=!t.start,t.result=5):(t.start=!t.start,t.result=6)})):A.alert({message:"\u8BF7\u52FF\u91CD\u590D\u62BD\u5956"}).then(()=>{}):y("\u62BD\u5956\u6B21\u6570\u4E0D\u8DB3")}function B(){N.findDrawCount({userId:i.userId,activityNo:t.activityNo}).then(a=>{t.time=a.drawCount}).catch(a=>{})}function M(){if(window.location.href.indexOf("activityNo")==-1)y("\u8BF7\u6DFB\u52A0\u6D3B\u52A8\u7F16\u7801");else if(window.location.href.indexOf("&")==-1)t.activityNo=window.location.href.match(/activityNo=(\S*)/)[1];else{let a=window.location.href.match(/activityNo=(\S*)&/)[1];for(;a.indexOf("&")!=-1;)a=a.match(/(\S*)&/)[1];t.activityNo=a}}function E(){N.findDraw({userId:i.userId,activityNo:t.activityNo}).then(a=>{if(console.log(a),i.userId!="empty")if(a.drawActivityConfig.drawType==2&&a.drawActivityConfig.poolList.length==8){const o=a.drawActivityConfig;o.poolList.splice(4,0,{awardImage:null,awardName:null}),t.activity=o}else a.drawActivityConfig.drawType==1&&a.drawActivityConfig.poolList.length==6?t.activity=a.drawActivityConfig:y("\u62BD\u5956\u914D\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u914D\u7F6E");else y("\u672A\u767B\u5F55\uFF0C\u65E0\u6CD5\u62BD\u5956")}).then(()=>{t.activity.poolList.length>0&&(t.startDate=t.activity.startDate.substring(0,10),t.endDate=t.activity.endDate.substring(0,10),t.startDate=t.startDate.replace(/-/g,"/"),t.endDate=t.endDate.replace(/-/g,"/"))}).catch(a=>{console.log(a,"err"),y("\u83B7\u53D6\u62BD\u5956\u914D\u7F6E\u5931\u8D25\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5")})}function q(){N.drawRecordList({userId:i.userId,activityNo:t.activityNo,awardFlag:"1",page_index:0,page_count:50}).then(a=>{t.recordList=a.recordList})}function V(){t.isTurnOver=!0}return at(()=>{M(),B(),E(),q()}),(a,o)=>{const k=P,U=Q,G=K,J=W,Z=it;return d(),r("div",_t,[e("header",null,[e("div",{class:"header_title",style:h([{background:t.activity.activityName?`url(${t.activity.activityName})`:""},{"background-size":"100% 100%","background-repeat":"no-repeat"}])},null,4),e("div",{class:"activityRule",style:h([{background:t.activity.activityRuleImage?`url(${t.activity.activityRuleImage})`:""},{"background-size":"100% 100%","background-repeat":"no-repeat"}])},[e("div",{class:"activityRule",style:h({color:t.activity.activityRuleStyle?t.activity.activityRuleStyle:"#727272"})},m(t.activity.activityRule),5)],4)]),e("div",{class:"main",style:h([{background:t.activity.background?`url(${t.activity.background})`:""},{"background-size":"100% 100%","background-repeat":"no-repeat"}])},[t.activity.drawType==1||t.activity.drawType==2?(d(),r("div",bt,[e("div",{style:h({color:t.activity.dateStyle?t.activity.dateStyle:"#727272"})}," \u65F6\u95F4\uFF1A"+m(t.startDate)+"-"+m(t.endDate),5),e("div",{class:"text",style:h({color:t.activity.drawCountFontStyle?t.activity.drawCountFontStyle:"#414141"})}," \u62BD\u5956\u6B21\u6570 ",4),e("div",{class:"time",style:h({color:t.activity.drawCountStyle?t.activity.drawCountStyle:"#EB2800"})},m(t.time)+"\u6B21 ",5)])):(d(),r("div",kt,Nt)),t.activity.drawType==2?(d(),r("div",It,[g(lt,{activity:t.activity.poolList,result:t.result,clickLottery:I,changeIsTurnOver:V,start:t.start,changeShow:f},null,8,["activity","result","start"])])):t.activity.drawType==1?(d(),r("div",St,[g(yt,{activity:t.activity.poolList,result:t.result,clickLottery:I,changeIsTurnOver:V,start:t.start,changeShow:f},null,8,["activity","result","start"])])):(d(),r("div",Lt,Ct))],4),g(Z,{show:_.value},{default:S(()=>[e("div",zt,[e("div",Dt,[$t,g(J,{onSubmit:u},{default:S(()=>[g(U,{inset:""},{default:S(()=>[g(k,{modelValue:w.value,"onUpdate:modelValue":o[0]||(o[0]=v=>w.value=v),placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u7528\u6237\u540D"}]},null,8,["modelValue"]),g(k,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=v=>c.value=v),placeholder:"\u8BF7\u8F93\u5165\u7535\u8BDD\u53F7\u7801",name:"pattern",rules:[{pattern:s,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7"}]},null,8,["modelValue","rules"]),g(k,{modelValue:b.value,"onUpdate:modelValue":o[2]||(o[2]=v=>b.value=v),placeholder:"\u8BF7\u8F93\u5165\u5730\u5740",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5730\u5740"}]},null,8,["modelValue"])]),_:1}),e("div",At,[g(G,{round:"",block:"",type:"primary","native-type":"submit"},{default:S(()=>[Ft]),_:1})])]),_:1})])])]),_:1},8,["show"]),e("footer",{style:h([{background:t.activity.drawRecordImage?`url(${t.activity.drawRecordImage})`:""},{"background-size":"100% 100%","background-repeat":"no-repeat"}])},[e("div",Vt,[(d(!0),r(C,null,z(t.recordList,(v,H)=>D((d(),r("div",{class:"cell",key:H},[e("div",null,m(v.realName),1),e("div",null,m(v.awardName),1),e("div",null,m(v.phone),1)])),[[$,v.realName&&v.awardName&&v.phone]])),128))])],4)])}}};var Xt=L(Ot,[["__scopeId","data-v-7785f155"]]);export{Xt as default};
