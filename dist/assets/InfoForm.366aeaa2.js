/* empty css              */import{_ as F}from"./05.07ddd1ad.js";import{_ as $}from"./08.3ccca685.js";import{_ as D,r as b,q as A,a as z,s as B,x as R,o as E,c as u,d as g,h as d,y as f,f as t,z as k,t as I,F as M,g as P,v as h,e as y,w as q,p as G,i as H,T as r,D as J,U as K,A as O,P as Q}from"./index.ee24c16d.js";/* empty css              *//* empty css              */const w=v=>(G("data-v-aa98fef6"),v=v(),H(),v),W={class:"form"},X={key:0},Y=w(()=>t("div",{class:"message"},"\u7533\u8BF7\u8FBE\u4EBA\u7C7B\u578B",-1)),Z={class:"message"},ee=w(()=>t("img",{class:"image",src:F,alt:""},null,-1)),ae=w(()=>t("div",{class:"introduce"}," \u60A8\u63D0\u4F9B\u7684\u4FE1\u606F\u4EC5\u4F9B\u5927\u6CB3\u62A5\xB7\u8C6B\u89C6\u9891\u5BA1\u6838\u53C2\u8003\u53CA\u5F00\u8BBE\u8D26\u53F7\uFF0C\u76F8\u5173\u4FE1\u606F\u5C06\u4E25\u683C\u4FDD\u5BC6\u3002 ",-1)),oe={class:"title"},ie=["onUpdate:modelValue","placeholder"],ne={class:"tips"},te={key:1,class:"expert"},re=w(()=>t("div",{class:"county"},"\u6240\u5728\u5730\u533A",-1)),le={__name:"InfoForm",props:{message:Array,title:String,authType:String},setup(v){const p=v,s=b(!1),m=b(""),_=A().proxy.$axios,n=z({message:[],options:[]}),a=z({authName:"",accountName:"",realName:"",phone:"",authType:"",talentTypeName:"",idCard:"",provinceId:"",countyId:"",cityId:"",fileList:[]}),T=B(),c=b("");function N(){_({method:"GET",url:"https://news.dahebao.cn/dahe/app/announce/countyList"}).then(o=>{if(o.status==200){for(let e of o.data)for(let l of e.children)delete l.children;n.options=o.data}else r(o.status)},o=>{r(o)})}function V({selectedOptions:o}){s.value=!1,c.value=o.map(e=>e.text).join("/"),a.cityId=m.value.toString(),a.provinceId=m.value.toString().slice(0,2)+"0000"}function C(){for(let o of n.message)if(o.value==""){r("\u8BF7\u68C0\u67E5"+o.name+"\u4FE1\u606F");return}if(p.authType=="4")if(a.talentTypeName==""){r("\u8BF7\u68C0\u67E5\u7533\u8BF7\u8FBE\u4EBA\u7C7B\u578B");return}else if(a.cityId==""){r("\u8BF7\u68C0\u67E5\u6240\u5728\u5730\u533A");return}else if(a.countyId==""){r("\u8BF7\u68C0\u67E5\u8BE6\u7EC6\u5730\u5740");return}else a.realName=n.message[0].value,a.idCard=n.message[1].value,a.phone=n.message[2].value,a.authType=p.authType;else a.authName=n.message[0].value,a.accountName=n.message[1].value,a.realName=n.message[2].value,a.phone=n.message[3].value,a.authType=p.authType;_({method:"post",url:`https://news.dahebao.cn/dahe/app/accountAuthRecord/saveAccountAuthRecord?userId=${T.$state.userId}`,data:[a]}).then(o=>{if(o.state=1){J({message:"\u4FE1\u606F\u5DF2\u63D0\u4EA4\u6210\u529F\uFF0C\u8BF7\u7B49\u5F85\u5BA1\u6838\uFF0C\u901A\u8FC7\u540E\u5C06\u6709\u5DE5\u4F5C\u4EBA\u5458\u8054\u7CFB\u60A8\u3002",theme:"round-button"});for(let e of n.message)e.value="";a.fileList.length=0,a.talentTypeName="",c.value="",a.countyId=""}else r(o.data)},o=>{r(o)})}function U(o){let e=new FormData;e.append("file",o.file),_({method:"post",url:"https://news.dahebao.cn/dahe/app/announce/uploadImg",data:e}).then(l=>{l.status==200?a.fileList[a.fileList.length-1].fileUrl=l.data.data.fileUrl:r(l.status)},l=>{r(l)})}return R(()=>a.fileList,(o,e)=>{o.length==0?n.message[4].value="":n.message[4].value="1"}),E(()=>{n.message=p.message,p.authType=="4"&&N()}),(o,e)=>{const l=K,j=O,L=Q;return u(),g("div",W,[v.authType=="4"?(u(),g("div",X,[Y,d(t("input",{class:"expert_input","onUpdate:modelValue":e[0]||(e[0]=i=>a.talentTypeName=i),placeholder:"\u7F8E\u98DF\uFF0C\u8FD0\u52A8\u7B49\uFF0C\u540D\u79F0\u81EA\u586B",type:"text"},null,512),[[f,a.talentTypeName]])])):k("",!0),t("div",Z,I(v.title),1),ee,ae,(u(!0),g(M,null,P(n.message,(i,S)=>(u(),g("div",{class:"main",key:S},[t("div",oe,I(i.name),1),d(t("input",{class:"input",type:"text","onUpdate:modelValue":x=>i.value=x,placeholder:i.placeholder},null,8,ie),[[h,i.type=="input"],[f,i.value]]),d(y(l,{class:"uploader",modelValue:a.fileList,"onUpdate:modelValue":e[1]||(e[1]=x=>a.fileList=x),"after-read":U},null,8,["modelValue"]),[[h,i.type=="upload"]]),d(t("div",ne," \uFF08 \u8BF7\u4E0A\u4F20\u8425\u4E1A\u6267\u7167\uFF0C\u83B7\u5956\u8BC1\u4E66\u6216\u8BA4\u8BC1\u8BC1\u4E66 \uFF09 ",512),[[h,i.type=="upload"]])]))),128)),v.authType=="4"?(u(),g("div",te,[re,d(t("input",{class:"province",readonly:"","onUpdate:modelValue":e[2]||(e[2]=i=>c.value=i),onClick:e[3]||(e[3]=i=>s.value=!0),type:"text"},null,512),[[f,c.value]]),d(t("input",{class:"province_more","onUpdate:modelValue":e[4]||(e[4]=i=>a.countyId=i),placeholder:"\u8BE6\u7EC6\u5730\u5740",type:"text"},null,512),[[f,a.countyId]]),d(t("img",{onClick:e[5]||(e[5]=i=>s.value=!0),class:"county_img",src:$,alt:""},null,512),[[h,!c.value]])])):k("",!0),y(L,{show:s.value,"onUpdate:show":e[8]||(e[8]=i=>s.value=i),round:"",position:"bottom"},{default:q(()=>[y(j,{modelValue:m.value,"onUpdate:modelValue":e[6]||(e[6]=i=>m.value=i),title:"\u8BF7\u9009\u62E9\u6240\u5728\u5730\u533A",options:n.options,onClose:e[7]||(e[7]=i=>s.value=!1),onFinish:V},null,8,["modelValue","options"])]),_:1},8,["show"]),t("button",{class:"submit",onClick:C},"\u63D0\u4EA4\u4FE1\u606F")])}}};var ge=D(le,[["__scopeId","data-v-aa98fef6"]]);export{ge as I};
