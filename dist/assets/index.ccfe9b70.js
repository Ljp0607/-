/* empty css              *//* empty css              *//* empty css              */import{F as Q,a as W,_ as X}from"./bg1.8bfefc47.js";/* empty css              */import{_ as D,a as S,x as R,c as r,d as s,f as e,F as A,g as T,B as h,E as Y,h as z,v as $,t as m,z as Z,l as tt,D as F,p as B,i as j,s as et,r as N,o as at,G as it,H as ot,O as dt,e as g,w as I,T as y,n as rt}from"./index.e56cd541.js";/* empty css              *//* empty css              */import{r as k}from"./request.ea1095dd.js";const st=o=>k.get("app/daheDrawActivityConfig/findDrawActivityConfigByAactivityNo",o,""),nt=o=>k.get("app/daheDrawActivityConfig/drawRecordList",o,""),ct=o=>k.get("app/daheDrawActivityConfig/getUserCodeAndinvitationList",o,""),vt=o=>k.get("app/daheDrawActivityConfig/toDraw",o,""),lt=o=>k.get("app/daheDrawActivityConfig/findDrawCount",o,""),wt=(o,a)=>k.post("app/daheDrawActivityConfig/saveAddress"+o,a,"");var C={findDraw:st,drawRecordList:nt,getUserCode:ct,toDraw:vt,findDrawCount:lt,saveAddress:wt};const ut=tt('<div class="decorate_top" data-v-7fe049ee><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div></div><div class="decorate_left" data-v-7fe049ee><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div></div><div class="decorate_right" data-v-7fe049ee><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div></div><div class="decorate_bottom" data-v-7fe049ee><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div><div class="tip" data-v-7fe049ee></div></div>',4),pt={key:0},ft=["src"],ht={class:"giftName"},gt={__name:"Sudoku",props:{start:Boolean,activity:Array,result:Number,clickLottery:Function,changeIsTurnOver:Function,changeShow:Function},setup(o){const a=o,t=S({item:[{state:0,color:1},{state:0,color:0},{state:0,color:1},{state:0,color:0},{state:0,color:0},{state:0,color:0},{state:0,color:1},{state:0,color:0},{state:0,color:1}]});function _(v){let l=[120,80,60,60,50,100,200,200,250],n=l.length,w=0;l.forEach((f,u)=>{setTimeout(()=>{b(f,u+1,n,v)},w),w+=f*8})}function b(v,l,n,w){let f=[0,1,2,5,8,7,6,3];l==n&&f.splice(w);for(let u in f)setTimeout(()=>{t.item.forEach(L=>{L.state=!1}),t.item[f[u]].state=!0,l==n&&u==f.length-1&&(F.alert({message:a.activity[f[u]].awardName}).then(()=>{a.changeShow()}),a.changeIsTurnOver())},v*u)}function p(){a.clickLottery()}return R(()=>a.start,(v,l)=>{_(a.result)}),(v,l)=>(r(),s("div",null,[e("main",null,[ut,(r(!0),s(A,null,T(t.item,(n,w)=>(r(),s("div",{style:h({background:n.state?"#FFFFE0":""}),key:w,class:Y([n.color?"btn":"","item"])},[a.activity?(r(),s("div",pt,[z(e("img",{src:a.activity[w].awardImage},null,8,ft),[[$,a.activity[w].awardImage]]),e("div",ht,m(a.activity[w].awardName),1)])):Z("",!0)],6))),128)),e("div",{class:"clickLott",onClick:p},"\u7ACB\u5373\u62BD\u5956")])]))}};var mt=D(gt,[["__scopeId","data-v-7fe049ee"]]);const yt=o=>(B("data-v-7e61604b"),o=o(),j(),o),_t={class:"wrapper"},bt={class:"sector-inner"},kt=["src"],xt=yt(()=>e("div",{class:"start"},"\u7ACB\u5373\u62BD\u5956",-1)),Nt=[xt],Ct={__name:"Corona",props:{activity:Array,clickLottery:Function,result:Number,changeIsTurnOver:Function,changeShow:Function,start:Boolean},setup(o){const a=o,t=S({rotateAngle:0,time:0,rotate_angle:"",item:24,activity:{poolList:[{name:"iphone"},{name:"ipad"},{name:"switch"},{name:"\u73A9\u5177"},{name:"\u597D\u73A9\u7684"},{name:"\u597D\u5403\u7684"}]}});function _(){a.clickLottery()}function b(p){switch(t.rotateAngle=t.rotateAngle-t.time,p){case 1:t.time=Math.random()*(30-0)+0;break;case 6:t.time=Math.random()*(85-35)+35;break;case 5:t.time=Math.random()*(145-95)+95;break;case 4:t.time=Math.random()*(205-155)+155;break;case 3:t.time=Math.random()*(265-215)+215;break;case 2:t.time=Math.random()*(325-275)+275;break}t.rotateAngle=t.rotateAngle+3600+t.time,t.rotate_angle=`rotate(${t.rotateAngle}deg)`,setTimeout(function(){F.alert({message:a.activity[p-1].awardName}).then(()=>{a.changeShow()}),a.changeIsTurnOver()},5200)}return R(()=>a.start,(p,v)=>{b(a.result)}),(p,v)=>(r(),s("main",null,[e("div",_t,[e("div",{class:"panel",style:h({transform:t.rotate_angle,transition:"5s"})},[(r(!0),s(A,null,T(t.activity.poolList,(l,n)=>(r(),s("div",{class:"sector",key:n},[e("div",bt,[e("span",null,m(a.activity[n].awardName),1),z(e("img",{src:a.activity[n].awardImage},null,8,kt),[[$,a.activity[n].awardImage]])])]))),128))],4),e("div",{class:"pointer",onClick:_},Nt)])]))}};var Lt=D(Ct,[["__scopeId","data-v-7e61604b"]]);const V=o=>(B("data-v-aaa5a97e"),o=o(),j(),o),It={class:"content"},Dt={key:0,class:"title"},St={key:1,class:"title"},At=V(()=>e("div",{class:"text"},"\u6682\u65E0\u62BD\u5956",-1)),Tt=[At],zt={key:2},$t={key:3},Ft={key:4,class:"empty_img"},Vt=V(()=>e("img",{src:X,alt:""},null,-1)),Ot=[Vt],Rt={class:"wrapper"},Bt={class:"block"},jt=V(()=>e("div",null,"\u8BF7\u586B\u5199\u9886\u5956\u4FE1\u606F",-1)),Mt={style:{margin:"16px"}},Et=rt(" \u63D0\u4EA4 "),Ut={class:"groud"},qt={__name:"index",setup(o){const a=et(),t=S({startDate:"",endDate:"",sum:"",start:!0,result:0,activity:{drawType:0,poolList:[]},time:0,activityNo:"",isTurnOver:!0,recordList:[]}),_=N(!1),b=N(""),p=N(""),v=N(""),l=N(""),n=/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[189]))\d{8}$/;function w(){f()}function f(){C.saveAddress(`?userId=${a.userId}&activityNo=${t.activityNo}`,JSON.stringify({realName:p.value,recordNo:l.value,phone:v.value,activityNo:t.activityNo,address:b.value})).then(i=>{y("\u4FDD\u5B58\u6210\u529F"),u()}).catch(i=>{y(i),u()})}function u(){t.activity.poolList[t.sum].awardFlag&&(_.value=!_.value)}function L(){t.time>0?t.isTurnOver?(t.isTurnOver=!1,t.time--,C.toDraw({userId:a.userId,activityNo:t.activityNo}).then(i=>{if(l.value=i.recordNo,t.activity.drawType==2){for(let d in t.activity.poolList)if(i.awardNo&&t.activity.poolList[d].awardNo==i.awardNo){t.sum=d;let x=[1,2,3,8,5,4,7,6,5];t.result=x[d],t.start=!t.start;return}}else if(t.activity.drawType==1){for(let d in t.activity.poolList)if(t.activity.poolList[d].awardNo==i.awardNo){t.sum=d,t.result=d*1+1,t.start=!t.start;return}}else y("\u51FA\u9519\u4E86")}).catch(()=>{t.activity.drawType==2?(t.start=!t.start,t.result=5):(t.start=!t.start,t.result=6)})):F.alert({message:"\u8BF7\u52FF\u91CD\u590D\u62BD\u5956"}).then(()=>{}):y("\u62BD\u5956\u6B21\u6570\u4E0D\u8DB3")}function M(){C.findDrawCount({userId:a.userId,activityNo:t.activityNo}).then(i=>{t.time=i.drawCount}).catch(i=>{})}function E(){if(window.location.href.indexOf("activityNo")==-1)y("\u8BF7\u6DFB\u52A0\u6D3B\u52A8\u7F16\u7801");else if(window.location.href.indexOf("&")==-1)t.activityNo=window.location.href.match(/activityNo=(\S*)/)[1];else{let i=window.location.href.match(/activityNo=(\S*)&/)[1];for(;i.indexOf("&")!=-1;)i=i.match(/(\S*)&/)[1];t.activityNo=i}}function U(){C.findDraw({userId:a.userId,activityNo:t.activityNo}).then(i=>{if(console.log(i),a.userId!="empty")if(i.drawActivityConfig.drawType==2&&i.drawActivityConfig.poolList.length==8){const d=i.drawActivityConfig;d.poolList.splice(4,0,{awardImage:null,awardName:null}),t.activity=d}else i.drawActivityConfig.drawType==1&&i.drawActivityConfig.poolList.length==6?t.activity=i.drawActivityConfig:y("\u62BD\u5956\u914D\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u914D\u7F6E");else y("\u672A\u767B\u5F55\uFF0C\u65E0\u6CD5\u62BD\u5956")}).then(()=>{t.activity.poolList.length>0&&(t.startDate=t.activity.startDate.substring(0,10),t.endDate=t.activity.endDate.substring(0,10),t.startDate=t.startDate.replace(/-/g,"/"),t.endDate=t.endDate.replace(/-/g,"/"))}).catch(i=>{console.log(i,"err"),y("\u83B7\u53D6\u62BD\u5956\u914D\u7F6E\u5931\u8D25\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5")})}function q(){C.drawRecordList({userId:a.userId,activityNo:t.activityNo,awardFlag:"1",page_index:0,page_count:50}).then(i=>{t.recordList=i.recordList}).catch(i=>{})}function O(){t.isTurnOver=!0}return at(()=>{E(),M(),U(),q()}),(i,d)=>{const x=Q,G=it,H=ot,J=W,K=dt;return r(),s("div",It,[e("header",null,[e("div",{class:"header_title",style:h([{background:t.activity.activityName?`url(${t.activity.activityName})`:""},{"background-size":"100% 100%","background-repeat":"no-repeat"}])},null,4),e("div",{class:"activityRule",style:h([{background:t.activity.activityRuleImage?`url(${t.activity.activityRuleImage})`:""},{"background-size":"100% 100%","background-repeat":"no-repeat"}])},[e("div",{class:"activityRule",style:h({color:t.activity.activityRuleStyle?t.activity.activityRuleStyle:"#727272"})},m(t.activity.activityRule),5)],4)]),e("div",{class:"main",style:h([{background:t.activity.background?`url(${t.activity.background})`:""},{"background-size":"100% 100%","background-repeat":"no-repeat"}])},[t.activity.drawType==1||t.activity.drawType==2?(r(),s("div",Dt,[e("div",{style:h({color:t.activity.dateStyle?t.activity.dateStyle:"#727272"})}," \u65F6\u95F4\uFF1A"+m(t.startDate)+"-"+m(t.endDate),5),e("div",{class:"text",style:h({color:t.activity.drawCountFontStyle?t.activity.drawCountFontStyle:"#414141"})}," \u62BD\u5956\u6B21\u6570 ",4),e("div",{class:"time",style:h({color:t.activity.drawCountStyle?t.activity.drawCountStyle:"#EB2800"})},m(t.time)+"\u6B21 ",5)])):(r(),s("div",St,Tt)),t.activity.drawType==2?(r(),s("div",zt,[g(mt,{activity:t.activity.poolList,result:t.result,clickLottery:L,changeIsTurnOver:O,start:t.start,changeShow:u},null,8,["activity","result","start"])])):t.activity.drawType==1?(r(),s("div",$t,[g(Lt,{activity:t.activity.poolList,result:t.result,clickLottery:L,changeIsTurnOver:O,start:t.start,changeShow:u},null,8,["activity","result","start"])])):(r(),s("div",Ft,Ot))],4),g(K,{show:_.value},{default:I(()=>[e("div",Rt,[e("div",Bt,[jt,g(J,{onSubmit:w},{default:I(()=>[g(G,{inset:""},{default:I(()=>[g(x,{modelValue:p.value,"onUpdate:modelValue":d[0]||(d[0]=c=>p.value=c),placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u7528\u6237\u540D"}]},null,8,["modelValue"]),g(x,{modelValue:v.value,"onUpdate:modelValue":d[1]||(d[1]=c=>v.value=c),placeholder:"\u8BF7\u8F93\u5165\u7535\u8BDD\u53F7\u7801",name:"pattern",rules:[{pattern:n,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7"}]},null,8,["modelValue","rules"]),g(x,{modelValue:b.value,"onUpdate:modelValue":d[2]||(d[2]=c=>b.value=c),placeholder:"\u8BF7\u8F93\u5165\u5730\u5740",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5730\u5740"}]},null,8,["modelValue"])]),_:1}),e("div",Mt,[g(H,{round:"",block:"",type:"primary","native-type":"submit"},{default:I(()=>[Et]),_:1})])]),_:1})])])]),_:1},8,["show"]),e("footer",{style:h([{background:t.activity.drawRecordImage?`url(${t.activity.drawRecordImage})`:""},{"background-size":"100% 100%","background-repeat":"no-repeat"}])},[e("div",Ut,[(r(!0),s(A,null,T(t.recordList,(c,P)=>z((r(),s("div",{class:"cell",key:P},[e("div",null,m(c.realName),1),e("div",null,m(c.awardName),1),e("div",null,m(c.phone),1)])),[[$,c.realName&&c.awardName&&c.phone]])),128))])],4)])}}};var Zt=D(qt,[["__scopeId","data-v-aaa5a97e"]]);export{Zt as default};
