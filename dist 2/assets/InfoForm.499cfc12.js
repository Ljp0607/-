import{_ as q,d as k,g as N,r as z,u as V,w as W,o as J,P as I,a as p,c as g,e as d,v as u,f as i,h as A,t as M,F as O,i as j,j as m,b as y,k as D,p as G,l as Q,T as r,D as F,U as R,C as Y}from"./index.e4c13dc5.js";var H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABEAAAAAGCAYAAADDsestAAAAAXNSR0IArs4c6QAAAM9JREFUeF7t27ENgDAMBECyFy0LsQELMBUbMQAU9FSWYlvHAOFzT/USY1nPZ/EQIECAAAECuQSufeQKJA0BAgQIECBAoLbAMIDULlB6AgQIEGgqYABpWqxrESBAgAABArMEDCCz5L2XAAECBAj8CBzbzYcAAQIECBAgQCBQwAASiOkoAgQIECAQJWAAiZJ0DgECBAgQIEDgEzCA+BIIECBAgEBGAb/AZGxFJgIECBAgQKCwgAGkcHmiEyBAgEBjAQNI43JdjQABAgQIEJgh8AIvlxMLZsrk2QAAAABJRU5ErkJggg==",X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAkCAYAAADRjIm5AAAAAXNSR0IArs4c6QAAAyVJREFUaEPlmU9I02EYxz/vNqUskg5CkKewDoEgdBD/LGQE4sVISA/iuRSU3CCULh6CvLiJldqpg9ihSMJDXkzEbYqH6CB0sksYBVLhICvZ9sa7MZ3uj+9++21t83ca+z3P+3w/z7Zn3z0TxK5GTx0WOQ1U7T9Xig8EXqyBu2Kfrdn9AagrRdYEJsH9ePA9oOxEgMPzA/Am9xsEN08EuKTrANw+UYUM+oArJQ0v5WP8roEDcEXbMlFNMLgGVJckvJCzeJ09IORhcEV73V1LGC9QWVLwkiV+Btr4OKJmGYngEXiPg7BcAMpLBH6DU3t2Fod2YjzJwdXdJk83Qs6kbE7xdOQzNlsTywNb8ZJTg6so+1gvUkwWD2OC0m1CNLLm3Dx6Jz24im52PwKGihB+FywOfPfWk2k/HhwpsLtnkKK7iOBDSNmB3zWfSrMGOHB1pJzz5xYQOIoCXsg+vK6pdFr1wCPf8U/PEvy7CNQXOPwwPufocRr1wSPDbqIKgqtIao47+P/cF1P4Bvt0amcGrk5scNdgZbXgfr4KMc+Fix286gzlBjwy6cfrIbwEVOgUyUPMOr/POHh/Z1e3VuaveOxk+3grMqym5v92dxuEaGHN+UMXWsUZBy8Md7eFzdZw1JXpNCA78KjBUeZGmZx8XztYsLPi3DBSOHvwCLxnEmSvEQEGc/awiDZWBtWcMXSZA377pZWvWy+ATkMqMksKIWQXXtfrzNIOR5sDrs7Ml7vTcGU6DTEPXFW7MVrJn3K1xKjVKW4gZhSfc9hAXkKKueDq+Fytr+LWRoUJrlRF11fvTHN3grd8D9yKrY0KFzwy6U1zdxm7Mp3GmP9Wj6/aNNaOEHOAVUdMkg/iJtga8Q5sG8pPk5RbcFXY+Poq5drIjCbkHjxqcB6CfJCB4B2wtKZaG2VwTsrQ/IBH4XXdXdauTKcx+QNX7u7blzmkbE8jTCJFD/7BWR3x2cTkD1ypvPasgtO/lL9Otb7SWhtlAxzLzS94ZNhF/pz0A5cPAQie4HX2mwGlc0b+wZO5O5NdWeGCR4fdJQT9hOUnygLTLI8EdQSbFfMPJaXktCxlFu8AAAAASUVORK5CYII=";const h=c=>(G("data-v-e3105fc0"),c=c(),Q(),c),Z={class:"form"},T={key:0},_=h(()=>i("div",{class:"message"},"\u7533\u8BF7\u8FBE\u4EBA\u7C7B\u578B",-1)),$={class:"message"},aa=h(()=>i("img",{class:"image",src:H,alt:""},null,-1)),na=h(()=>i("div",{class:"introduce"}," \u60A8\u63D0\u4F9B\u7684\u4FE1\u606F\u4EC5\u4F9B\u5927\u6CB3\u62A5\xB7\u8C6B\u89C6\u9891\u5BA1\u6838\u53C2\u8003\u53CA\u5F00\u8BBE\u8D26\u53F7\uFF0C\u76F8\u5173\u4FE1\u606F\u5C06\u4E25\u683C\u4FDD\u5BC6\u3002 ",-1)),ea={class:"title"},oa=["onUpdate:modelValue","placeholder"],ta={class:"tips"},ia={key:1,class:"expert"},ra=h(()=>i("div",{class:"county"},"\u6240\u5728\u5730\u533A",-1)),va={__name:"InfoForm",props:{message:Array,title:String,authType:String},setup(c){const s=c,l=k(!1),f=k(""),w=N().proxy.$axios,t=z({message:[],options:[]}),n=z({authName:"",accountName:"",realName:"",phone:"",authType:"",talentTypeName:"",idCard:"",provinceId:"",countyId:"",cityId:"",fileList:[]}),K=V(),b=k("");function B(){w({method:"GET",url:"https://news.dahebao.cn/dahe/app/announce/countyList"}).then(e=>{if(e.status==200){for(let a of e.data)for(let v of a.children)delete v.children;t.options=e.data}else r(e.status)},e=>{r(e)})}function C({selectedOptions:e}){l.value=!1,b.value=e.map(a=>a.text).join("/"),n.cityId=f.value.toString(),n.provinceId=f.value.toString().slice(0,2)+"0000"}function E(){for(let e of t.message)if(e.value==""){r("\u8BF7\u68C0\u67E5"+e.name+"\u4FE1\u606F");return}if(s.authType=="4")if(n.talentTypeName==""){r("\u8BF7\u68C0\u67E5\u7533\u8BF7\u8FBE\u4EBA\u7C7B\u578B");return}else if(n.cityId==""){r("\u8BF7\u68C0\u67E5\u6240\u5728\u5730\u533A");return}else if(n.countyId==""){r("\u8BF7\u68C0\u67E5\u8BE6\u7EC6\u5730\u5740");return}else n.realName=t.message[0].value,n.idCard=t.message[1].value,n.phone=t.message[2].value,n.authType=s.authType;else n.authName=t.message[0].value,n.accountName=t.message[1].value,n.realName=t.message[2].value,n.phone=t.message[3].value,n.authType=s.authType;w({method:"post",url:`https://news.dahebao.cn/dahe/app/accountAuthRecord/saveAccountAuthRecord?userId=${K.$state.userId}`,data:[n]}).then(e=>{if(e.state=1){F({message:"\u4FE1\u606F\u5DF2\u63D0\u4EA4\u6210\u529F\uFF0C\u8BF7\u7B49\u5F85\u5BA1\u6838\uFF0C\u901A\u8FC7\u540E\u5C06\u6709\u5DE5\u4F5C\u4EBA\u5458\u8054\u7CFB\u60A8\u3002",theme:"round-button"});for(let a of t.message)a.value="";n.fileList.length=0,n.talentTypeName="",b.value="",n.countyId=""}else r(e.data)},e=>{r(e)})}function S(e){let a=new FormData;a.append("file",e.file),w({method:"post",url:"https://news.dahebao.cn/dahe/app/announce/uploadImg",data:a}).then(v=>{v.status==200?n.fileList[n.fileList.length-1].fileUrl=v.data.data.fileUrl:r(v.status)},v=>{r(v)})}return W(()=>n.fileList,(e,a)=>{e.length==0?t.message[4].value="":t.message[4].value="1"}),J(()=>{t.message=s.message,s.authType=="4"&&B()}),(e,a)=>{const v=R,U=Y,P=I;return p(),g("div",Z,[c.authType=="4"?(p(),g("div",T,[_,d(i("input",{class:"expert_input","onUpdate:modelValue":a[0]||(a[0]=o=>n.talentTypeName=o),placeholder:"\u7F8E\u98DF\uFF0C\u8FD0\u52A8\u7B49\uFF0C\u540D\u79F0\u81EA\u586B",type:"text"},null,512),[[u,n.talentTypeName]])])):A("",!0),i("div",$,M(c.title),1),aa,na,(p(!0),g(O,null,j(t.message,(o,L)=>(p(),g("div",{class:"main",key:L},[i("div",ea,M(o.name),1),d(i("input",{class:"input",type:"text","onUpdate:modelValue":x=>o.value=x,placeholder:o.placeholder},null,8,oa),[[m,o.type=="input"],[u,o.value]]),d(y(v,{class:"uploader",modelValue:n.fileList,"onUpdate:modelValue":a[1]||(a[1]=x=>n.fileList=x),"after-read":S},null,8,["modelValue"]),[[m,o.type=="upload"]]),d(i("div",ta," \uFF08 \u8BF7\u4E0A\u4F20\u8425\u4E1A\u6267\u7167\uFF0C\u83B7\u5956\u8BC1\u4E66\u6216\u8BA4\u8BC1\u8BC1\u4E66 \uFF09 ",512),[[m,o.type=="upload"]])]))),128)),c.authType=="4"?(p(),g("div",ia,[ra,d(i("input",{class:"province",readonly:"","onUpdate:modelValue":a[2]||(a[2]=o=>b.value=o),onClick:a[3]||(a[3]=o=>l.value=!0),type:"text"},null,512),[[u,b.value]]),d(i("input",{class:"province_more","onUpdate:modelValue":a[4]||(a[4]=o=>n.countyId=o),placeholder:"\u8BE6\u7EC6\u5730\u5740",type:"text"},null,512),[[u,n.countyId]]),d(i("img",{onClick:a[5]||(a[5]=o=>l.value=!0),class:"county_img",src:X,alt:""},null,512),[[m,!b.value]])])):A("",!0),y(P,{show:l.value,"onUpdate:show":a[8]||(a[8]=o=>l.value=o),round:"",position:"bottom"},{default:D(()=>[y(U,{modelValue:f.value,"onUpdate:modelValue":a[6]||(a[6]=o=>f.value=o),title:"\u8BF7\u9009\u62E9\u6240\u5728\u5730\u533A",options:t.options,onClose:a[7]||(a[7]=o=>l.value=!1),onFinish:C},null,8,["modelValue","options"])]),_:1},8,["show"]),i("button",{class:"submit",onClick:E},"\u63D0\u4EA4\u4FE1\u606F")])}}};var da=q(va,[["__scopeId","data-v-e3105fc0"]]);export{da as I};
